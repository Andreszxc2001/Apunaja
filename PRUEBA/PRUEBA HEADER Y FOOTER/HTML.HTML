<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- ICONOS -->
    <script src="https://kit.fontawesome.com/3140323153.js" crossorigin="anonymous"></script>
    
    <link rel="stylesheet" href="/css/Styles_admin_page/1.Styles_global_admin_page.css">
    <link rel="stylesheet" href="/css/Styles_admin_page/1.Styles_global_opcions.css">
    <link rel="stylesheet" href="/css/Styles_admin_page/Styles_2.Create_new_community.css">
  
    <title>Crear nueva Comunidad</title>
    <script>
        // Objeto actualizado con la relación exacta entre municipios y resguardos
        const resguardosPorMunicipio = {
            "RIOHACHA": [
                "No resguardado",
                "Las Delicias",
                "Monte Harmon",
                "Mañature",
                "Soldado Parate Bien",
                "Una Apuchon",
                "Perratpu24"
            ],
            "ALBANIA": [
                "No resguardado",
                "Cuatro De Noviembre"
            ],
            "BARRANCAS": [
                "No resguardado",
                "El Zahino Guayabito Muriaytuy",
                "Provincial",
                "San Francisco",
                "Trupiogacho-La Meseta",
                "Cerrodeo"
            ],
            "DIBULLA": [
                "No resguardado",
                "Kogui-Malayo-Arhuaco"
            ],
            "DISTRACCIÓN": [
                "No resguardado",
                "Caicemapa",
                "Potrerito"
            ],
            "FONSECA": [
                "No resguardado",
                "Mayabangloma 45"
            ],
            "HATONUEVO": [
                "No resguardado",
                "Wayuu De Lomamato",
                "Cerro De Hatonuevo",
                "Wayuu Rodelto El Pozo"
            ],
            "MAICAO": [
                "No resguardado",
                "Alta Y Media Guajira",
                "Okochi",
                "Soldado Parate Bien"
            ],
            "MANAURE": [
                "No resguardado",
                "Alta Y Media Guajira"
            ],
            "SAN JUAN DEL CESAR": [
                "No resguardado",
                "Kogui-Malayo-Arhuaco"
            ]
        };

        function actualizarResguardos() {
            // Obtener el municipio seleccionado
            const municipio = document.getElementById("Municipio").value;
            
            // Obtener el select de resguardos
            const resguardoSelect = document.getElementById("Resguardo");
            
            // Limpiar las opciones actuales
            resguardoSelect.innerHTML = "";
            
            // Agregar la opción por defecto
            const optionDefault = document.createElement("option");
            optionDefault.text = "Seleccione un resguardo";
            optionDefault.value = "";
            resguardoSelect.add(optionDefault);
            
            // Si hay un municipio seleccionado, agregar sus resguardos correspondientes
            if (municipio in resguardosPorMunicipio) {
                const resguardos = resguardosPorMunicipio[municipio];
                resguardos.forEach(function(resguardo) {
                    const option = document.createElement("option");
                    option.text = resguardo;
                    option.value = resguardo;
                    resguardoSelect.add(option);
                });
            }
        }

        // Función para validar el formulario antes de enviar
        function validarFormulario() {
            const campos = [
                "Municipio",
                "Resguardo",
                "Comunidad",
                "Latitud",
                "Longitud",
                "name",
                "apellido",
                "fecha",
                "Rol",
                "Documento"
            ];

            let valido = true;
            campos.forEach(campo => {
                const elemento = document.getElementById(campo);
                if (!elemento.value) {
                    alert(`Por favor, complete el campo ${campo}`);
                    valido = false;
                }
            });

            return valido;
        }
    </script>
    <header>
        <a href="/html/Admin_panel/1.Home/home_panel.html"><img src="/assets/logos_of_the_site/logo_color.png" alt="logo"></a>
        
        <nav>
            <ul class="nav">
                <li><i class="fa-solid fa-users"></i>
                    <a href="/html/Admin_panel/2.Beneficiaries/1.Create_new_community.html">CREAR COMUNIDAD</a>
                </li>
                <li><i class="fa-solid fa-user"></i>
                    <a href="/html/Admin_panel/2.Beneficiaries/2.Create_new_beneficiary.html">CREAR BENEFICIARIO</a>   
                </li>
                <li><i class="fa-solid fa-school"></i>
                    <a href="/html/Admin_panel/2.Beneficiaries/3.Create_new_Schols.html">CENTROS EDUCATIVOS</a>   
                </li>
                <li><i class="fa-solid fa-graduation-cap"></i>
                    <a href="/html/Admin_panel/2.Beneficiaries/4.Create_new_studens.html">CREAR ESTUDIANTES</a>   
                </li>
                <li><i class="fa-solid fa-arrow-right"></i>
                    <a href="/html/Admin_panel/1.Home/home_panel.html">ATRAS</a>
                </li>
            </ul>
        </nav>
    </header>

    <main>
        <h1>CREAR COMUNIDAD</h1>
    <div class="formglobal"></div>
        <form onsubmit="return validarFormulario()" class="beneficiaryForm">

<!-- Sección 1: Documentación -->
                <section class="upload-section">
                    <h2>Documentación</h2>
                    <div class="upload-buttons">
                        <div class="upload-item">
                            <div class="icon"><i class="fa-solid fa-image"></i></div>
                            <input type="button" value="CARGAR FOTOGRAFIAS">
                        </div>
                        <div class="upload-item">
                            <div class="icon"><i class="fa-solid fa-id-card"></i></div>
                            <input type="button" value="CARGAR DOCUMENTO">
                        </div>
                        <div class="upload-item">
                            <div class="icon"><i class="fa-solid fa-signature"></i></div>
                            <input type="button" value="CARGAR FIRMA O HUELLA">
                        </div>
                    </div>
                </section>



            <div class="main-info-container">
                <!-- Datos de la comunidad -->
                <section class="info-column">
                    <h2>DATOS DE LA COMUNIDAD</h2>
                    
                    <!-- DEPARTAMENTO -->
                    <div class="form-group">
                        <div><label for="Departamento">DEPARTAMENTO</label></div>
                        <div><input type="text" id="Departamento" name="Departamento" placeholder="La Guajira" value="La Guajira" readonly></div>
                    </div>

                    <!-- MUNICIPIO -->
                    <div class="form-group">
                        <div><label for="Municipio">MUNICIPIO</label></div>
                        <div>
                            <select id="Municipio" name="Municipio" onchange="actualizarResguardos()" required>
                                <option value="">Seleccione un municipio</option>
                                <option value="RIOHACHA">RIOHACHA</option>
                                <option value="MAICAO">MAICAO</option>
                                <option value="MANAURE">MANAURE</option>
                                <option value="ALBANIA">ALBANIA</option>
                                <option value="BARRANCAS">BARRANCAS</option>
                                <option value="DIBULLA">DIBULLA</option>
                                <option value="DISTRACCIÓN">DISTRACCIÓN</option>
                                <option value="FONSECA">FONSECA</option>
                                <option value="HATONUEVO">HATONUEVO</option>
                                <option value="SAN JUAN DEL CESAR">SAN JUAN DEL CESAR</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- RESGUARDO -->
                    <div class="form-group">
                        <div><label for="Resguardo">RESGUARDO</label></div>
                        <div>
                            <select id="Resguardo" name="Resguardo" required>
                                <option value="">Seleccione un resguardo</option>
                            </select>
                        </div>
                
                <!-- COMUNIDAD -->
                <div class="form-group">
                    <div><label for="Comunidad">COMUNIDAD</label></div>
                    <div><input type="text" id="Comunidad" name="Comunidad" placeholder="Comunidad"></div>
                </div>
                
                <!-- GEOREFERENCIA -->
                <div class="geo-reference">
                    <label>GEOREFERENCIA DE COMUNIDAD</label>
                    <div class="coordinates">
                        <div class="form-group">
                            <label for="Latitud">LATITUD</label>
                            <input type="number" id="Latitud" name="Latitud" placeholder="LATITUD" step="any">
                        </div>
                        <div class="form-group">
                            <label for="Longitud">LONGITUD</label>
                            <input type="number" id="Longitud" name="Longitud" placeholder="LONGITUD" step="any">
                        </div>
                    </div>
                </div>
            </section>
        
            <!-- Datos de la autoridad tradicional -->

        <section class="info-column">
            <div class="authority-section">
                <h3>DATOS DE LA AUTORIDAD TRADICIONAL</h3>
                <!-- Nombres -->
                <div class="form-group">
                    <div><label for="name">NOMBRES</label></div>
                    <div><input type="text" id="name" name="name" placeholder="Nombres"></div>
                </div>
                <!-- Apellidos -->
                <div class="form-group">
                    <div><label for="apellido">APELLIDOS</label></div>
                    <div><input type="text" id="apellido" name="apellido" placeholder="Apellidos"></div>
                </div>
                <!-- Fecha de nacimiento -->
                <div class="form-group">
                    <div><label for="fecha">FECHA DE NACIMIENTO</label></div>
                    <div><input type="date" name="fecha" id="fecha"></div>
                </div>
                <!-- ROL -->
                <div class="form-group">
                    <div><label for="Rol">ROL</label></div>
                    <div><select name="Rol" id="Rol">
                        <option value="rol">Autoridad tradicional</option>
                        <option value="rol">Lider</option>
                    </select></div>
                </div>
                <!-- Documento -->
                <div class="form-group">
                    <div><label for="Documento">DOCUMENTO</label></div>
                    <div><input type="number" name="Documento" id="Documento" placeholder="Documento"></div>
                </div>
            </div>
        </div>
    </section>
    <section class="upload-section">
        <h2>Carga masiva</h2>
        <div class="upload-buttons">
            <div class="upload-item">
                <div class="icon"><i class="fa-solid fa-image"></i></div>
                <input type="button" value="CARGAR DOCUMENTO DE AUTORIDAD">
            </div>
            <div class="upload-item">
                <div class="icon"><i class="fa-solid fa-id-card"></i></div>
                <input type="button" value="ZIP DE DOCUMENTO">
            </div>
            <div class="upload-item">
                <div class="icon"><i class="fa-solid fa-signature"></i></div>
                <input type="button" value="BENEFICARIOS EXCEL">
            </div>
            <div class="upload-item">
                <div class="icon"><i class="fa-solid fa-signature"></i></div>
                <input type="button" value="ZIP FIRMA/HUELLA">
            </div>
        </div>

        <div>
            <input type="submit" value="CREAR BENEFICIARIO" class="submit-button">
        </div>
    </section>
        <!-- Botones de acción -->
        <div class="action-buttons">
            <div><input type="button" value="CARGAR DOCUMENTO DE AUTORIDAD"></div>
            <div><input type="button" value="CARGAR FIRMA O HUELLA"></div>
            <div><input type="button" value="CARGAR ACTA DE POSESION"></div>
            <div><input type="submit" value="CREAR COMUNIDAD"></div>
        </div>          
    </main>
</body>
</html>
